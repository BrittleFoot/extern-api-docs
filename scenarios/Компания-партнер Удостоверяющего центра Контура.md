# Компания-партнер УЦ Контура

![Схема](/images/Партнер%20с%20КЦР%20(1).jpg)

## I. Подготовка к работе с API Контур.Экстерна
Чтобы начать работать с API, необходимо сделать следующее:
* Получить квалифицированный сертификат электронной подписи для аутентификации Партнера, работающего с API.
* Получить [api-key](https://github.com/skbkontur/extern-api-docs/blob/master/manuals/api-key.md).
* Заключить договор с Контуром.
* Выдать пользователю Партнера облачный квалифицированный сертификат электронной подписи через рабочее место Удостоверяющего центра Контура сотрудником Партнера.

## II. Аутентификация 
* Аутентификация в работе с API Контур.Экстерна подразумевает получение уникального идентификатора сессии — [auth.sid](https://github.com/skbkontur/extern-api-docs/blob/master/manuals/auth.sid.md). Его необходимо указывать при каждом запросе к API Контур.Экстерна 
* В данном сценарии возможно применение схемы доверительной аутентификации: пользователю Партнера достаточно авторизоваться в системе Партнера, и на основании этой авторизации мы разрешим работать пользователю с Контур.Экстерном — выдадим auth.sid.  
Когда пользователь Партнера работает с API Контур.Экстерна **первый** раз, происходит связывание пользователя сервиса Партнера и Контур.Экстерна. 

## III. Работа с учетными записями
На этом шаге можно выбрать учетную запись, от имени которой будет происходить работа с API. 
Если организация ранее не использовала API Контур.Экстерна, скорее всего, учетной записи ещё нет. В этом случае её можно создать.

## IV. Работа с черновиками и документооборотами
На этом этапе можно приступать к электронному документообороту с контролирующим органом: загрузить и отправить документы, получить корреспонденцию от контролирующего органа, узнать о состоянии обработки ранее отправленных документов.

## V. Лента событий документооборотов
Если хочется настроить уведомление пользователей об изменениях в документооборотах или просто получать новости по интересующим документооборотам, можно воспользоваться лентой событий.
