Разберем пример, когда организация сдаёт отчетность о среднесписочной численности сама за себя - то есть одновременно является и отправителем, и налогоплательщиком.

### Данные для работы примера

* файл декларации о среднесписочной численности 
```
<?xml version="1.0" encoding="windows-1251"?>
<Файл ИдФайл="NO_SRCHIS_0000_0000_5845661249170650801_20160909_d0cc4da7-a9a8-407a-97ac-93ceff1cdff0" ВерсФорм="4.01" ТипИнф="СВЕДСРСПИСЧИСЛ" ВерсПрог="КОНТУР-ЭКСТЕРН, ВЕРСИЯ 11.0" КолДок="1">
<ИдОтпр>
<ФИООтв Фамилия="Петров" Имя="Георгий" Отчество="Робертович" />
</ИдОтпр>
<Документ ИдДок="d0cc4da7-a9a8-407a-97ac-93ceff1cdff0">
<СвНП>
<НПЮЛ НаимОрг="mainOrgNamePAO" ИННЮЛ="5845661249" КПП="170650801">
<СвРукОрг Фамилия="Петров" Имя="Георгий" Отчество="Робертович" />
</НПЮЛ>
</СвНП>
<ОписПерСвед КНД="1110018" ДатаДок="09.09.2013" />
<СодПерСвед ДатаСредСпЧисл="01.01.2013" КолЧел="500" />
</Документ>
</Файл>
```
* inn - ИНН тестовой учетной записи
* kpp - КПП тестовой учетной записи
* certificate - тестовый сертификат ЭП тестовой учетной записи
* ifns-code - код инспекции ФНС, на тестовой площадке у нас работают 2 инспекции, которые автоматически отвечают на отправленные документы (0087 - приходят положительные ответы, 0088 - приходят отрицательные ответы)

### Порядок работы

Предполагаем, что учетные данные организации уже заведены.    
1. Аутентифицируемся, получая [auth.sid](https://github.com/skbkontur/extern-api-docs/blob/master/manuals/auth.sid.md).
2. Создаем черновик документооборота, наполняя его минимально необходимыми данными:
* ИНН-КПП отправителя
* сертификат, который используется для подписи
* ip-адрес рабочего места абонента (необходимо для предоставления в ФНС)
* код инспекции ФНС, куда направляется декларация
* ИНН-КПП организации, за которую происходит отправка декларации (в нашем случае совпадают с ИНН-КПП отправителя)
3. Записываем в черновик декларацию и подпись (контент в base64)
 
#### 1. Аутентификация  

Получаем [auth.sid](https://github.com/skbkontur/extern-api-docs/blob/master/manuals/auth.sid.md). 

#### 2. Создание черновика документооборота  

Метод: [POST Draft](http://extern-api.testkontur.ru/swagger/ui/index#!/Drafts/Drafts_Create)

При сдаче отчетности за себя, sender совпадает с organization. Указывать необходимо оба параметра.

```
{
  "sender": {
  "inn": "хххххххххх",
  "kpp": "ххххххххх",
  "certificate": {
  "content": "MIIJijCCCTmgAw......"
  },
  "ipaddress": "8.8.8.8"
  },
  "recipient": {
  "ifns-code": "хххх"
  },
  "organization": {
  "inn": "хххххххххх",
  "organization": {
  "kpp": "ххххххххх"
  }
  }
}
```
  
#### 3. Добавление документов  

Метод: [POST Document](http://extern-api.testkontur.ru/swagger/ui/index#!/Drafts/DraftDocuments_AddDocument)

На этом этапе добавляем в черновик документооборота необходимые документы. Добавим декларацию со сведениями о среднесписочной численности. В этом же запросе добавим подпись.

```
{
  "base64-content": "PD94bWwgdmVyc2l.....",
  "signature": "MIINyAYJKoZIhvcNAQcC....",
  "description": { }
}
```

#### 4. Отправка  

Метод: [POST Send](http://extern-api.testkontur.ru/swagger/ui/index#!/Drafts/Drafts_Send)

------

**Другие примеры**

- [Отправитель и налогоплательщик разные лица, прикладывается несколько документов, возникает ошибка при отправке]
- [Отправка с поэтапным прохождением проверки и подготовки, падение при подготовке]
- [Работа со списком документооборотов, применение фильтров]
- [Работа с отдельным документооборотом]
